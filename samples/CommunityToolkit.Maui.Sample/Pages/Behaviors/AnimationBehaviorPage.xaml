<?xml version="1.0" encoding="utf-8" ?>
<pages:BasePage  
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:pages="clr-namespace:CommunityToolkit.Maui.Sample.Pages"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:mct="clr-namespace:CommunityToolkit.Maui.Behaviors;assembly=CommunityToolkit.Maui"
    xmlns:animation="clr-namespace:CommunityToolkit.Maui.Animations;assembly=CommunityToolkit.Maui"
    xmlns:vm="clr-namespace:CommunityToolkit.Maui.Sample.ViewModels.Behaviors"
    x:Class="CommunityToolkit.Maui.Sample.Pages.Behaviors.AnimationBehaviorPage">
    <pages:BasePage.BindingContext>
        <vm:AnimationBehaviorViewModel />
    </pages:BasePage.BindingContext>
    <ContentPage.Resources>
        <Style TargetType="Button" ApplyToDerivedTypes="True">
            <Setter Property="HorizontalOptions" Value="Center"/>
        </Style>

        <Style TargetType="VerticalStackLayout" ApplyToDerivedTypes="True">
            <Setter Property="CompressedLayout.IsHeadless" Value="True"/>
        </Style>
        
        <Style x:Key="HeaderLabelStyle" TargetType="Label" ApplyToDerivedTypes="True">
            <Setter Property="HorizontalOptions" Value="Center"/>
            <Setter Property="FontAttributes" Value="Bold"/>
        </Style>
    </ContentPage.Resources>
    
    <ContentPage.Content>
        <ScrollView>
            <ScrollView.Content>
                <VerticalStackLayout
                      Spacing="15">
                    <Label 
                        Text="AnimationBehavor is a Behavior that can be attached to any VisualElement, allowing developers to trigger animations via ICommand AnimateCommand."/>

                    <Label Text="ShakeAnimation"
                        Style="{StaticResource HeaderLabelStyle}" />
                    <Button Text="Click me!">
                        <Button.Behaviors>
                            <mct:AnimationBehavior EventName="Clicked">
                                <mct:AnimationBehavior.AnimationType>
                                    <animation:ShakeAnimation 
                                    StartFactor="25"
                                    Easing="{x:Static Easing.Linear}"
                                    Duration="50"/>
                                </mct:AnimationBehavior.AnimationType>
                            </mct:AnimationBehavior>
                        </Button.Behaviors>
                    </Button>
                    
                    <Entry Text="Shake me with the button below"
                            HorizontalOptions="CenterAndExpand">
                        <Entry.Behaviors>
                            <mct:AnimationBehavior AnimateCommand="{Binding TriggerAnimationCommand}">
                                <mct:AnimationBehavior.AnimationType>
                                    <animation:ShakeAnimation/>
                                </mct:AnimationBehavior.AnimationType>
                            </mct:AnimationBehavior>
                        </Entry.Behaviors>
                    </Entry>

                    <Button 
                        HorizontalOptions="FillAndExpand"
                        Text="Shake the entry above"
                        Command="{Binding TriggerAnimationCommand}"/>
                </VerticalStackLayout>
            </ScrollView.Content>
        </ScrollView>
    </ContentPage.Content>
</pages:BasePage>