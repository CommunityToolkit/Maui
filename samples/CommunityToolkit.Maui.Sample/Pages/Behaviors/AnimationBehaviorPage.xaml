<?xml version="1.0" encoding="utf-8" ?>
<pages:BasePage  
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:pages="clr-namespace:CommunityToolkit.Maui.Sample.Pages"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:mct="clr-namespace:CommunityToolkit.Maui.Behaviors;assembly=CommunityToolkit.Maui"
    xmlns:animation="clr-namespace:CommunityToolkit.Maui.Animations;assembly=CommunityToolkit.Maui"
    xmlns:vm="clr-namespace:CommunityToolkit.Maui.Sample.ViewModels.Behaviors"
    x:Class="CommunityToolkit.Maui.Sample.Pages.Behaviors.AnimationBehaviorPage">
    <pages:BasePage.BindingContext>
        <vm:AnimationBehaviorViewModel />
    </pages:BasePage.BindingContext>
    <ContentPage.Resources>
        <Style TargetType="Button" ApplyToDerivedTypes="True">
            <Setter Property="HorizontalOptions" Value="Center"/>
        </Style>

        <Style TargetType="VerticalStackLayout" ApplyToDerivedTypes="True">
            <Setter Property="CompressedLayout.IsHeadless" Value="True"/>
        </Style>
        
        <Style x:Key="HeaderLabelStyle" TargetType="Label" ApplyToDerivedTypes="True">
            <Setter Property="HorizontalOptions" Value="Center"/>
            <Setter Property="FontAttributes" Value="Bold"/>
        </Style>
    </ContentPage.Resources>
    
    <ContentPage.Content>
        <ScrollView>
            <ScrollView.Content>
                <Grid RowDefinitions="Auto, Auto, Auto, Auto, *"
                      ColumnDefinitions="*, *"
                      RowSpacing="15"
                      ColumnSpacing="10">
                    <Label 
                        GridLayout.Row="0"
                        GridLayout.ColumnSpan="2"
                        Text="AnimationBehavor is a Behavior that can be attached to any VisualElement, allowing developers to trigger animations via ICommand AnimateCommand."/>

                    <VerticalStackLayout GridLayout.Row="1" 
                                         GridLayout.Column="0">
                        <Label Text="FadeAnimation"
                           Style="{StaticResource HeaderLabelStyle}" />
                        <Button Text="Click me!">
                            <Button.Behaviors>
                                <mct:AnimationBehavior EventName="Clicked">
                                    <mct:AnimationBehavior.AnimationType>
                                        <animation:FadeAnimation 
                                        Easing="{x:Static Easing.Linear}"
                                        Duration="250"
                                        Fade="0.1"
                                        />
                                    </mct:AnimationBehavior.AnimationType>
                                </mct:AnimationBehavior>
                            </Button.Behaviors>
                        </Button>
                    </VerticalStackLayout>

                    <VerticalStackLayout GridLayout.Row="1" 
                                         GridLayout.Column="1">
                        <Label Text="RotateAnimation"
                        Style="{StaticResource HeaderLabelStyle}" />

                        <Button Text="Click me!">
                            <Button.Behaviors>
                                <mct:AnimationBehavior EventName="Clicked">
                                    <mct:AnimationBehavior.AnimationType>
                                        <animation:RotateAnimation 
                                             Easing="{x:Static Easing.Linear}"
                                            Duration="250"
                                            Rotation="360"/>
                                    </mct:AnimationBehavior.AnimationType>
                                </mct:AnimationBehavior>
                            </Button.Behaviors>
                        </Button>
                    </VerticalStackLayout>

                    <VerticalStackLayout GridLayout.Row="2" 
                                         GridLayout.Column="0">
                        <Label Text="ScaleAnimation"
                           Style="{StaticResource HeaderLabelStyle}" />

                        <Button Text="Click me!">
                            <Button.Behaviors>
                                <mct:AnimationBehavior EventName="Clicked">
                                    <mct:AnimationBehavior.AnimationType>
                                        <animation:ScaleAnimation 
                                         Easing="{x:Static Easing.Linear}"
                                        Duration="250"
                                        Scale="2"/>
                                    </mct:AnimationBehavior.AnimationType>
                                </mct:AnimationBehavior>
                            </Button.Behaviors>
                        </Button>
                    </VerticalStackLayout>

                    <VerticalStackLayout GridLayout.Row="2" 
                                         GridLayout.Column="1">
                        <Label Text="ShakeAnimation"
                           Style="{StaticResource HeaderLabelStyle}" />

                        <Button Text="Click me!">
                            <Button.Behaviors>
                                <mct:AnimationBehavior EventName="Clicked">
                                    <mct:AnimationBehavior.AnimationType>
                                        <animation:ShakeAnimation 
                                        StartFactor="25"
                                        Easing="{x:Static Easing.Linear}"
                                        Duration="50"/>
                                    </mct:AnimationBehavior.AnimationType>
                                </mct:AnimationBehavior>
                            </Button.Behaviors>
                        </Button>
                    </VerticalStackLayout>

                    <VerticalStackLayout GridLayout.Row="3" GridLayout.Column="0">
                        <Label Text="FlipHorizontalAnimation"
                           Style="{StaticResource HeaderLabelStyle}" />

                        <Button Text="Click me!">
                            <Button.Behaviors>
                                <mct:AnimationBehavior EventName="Clicked">
                                    <mct:AnimationBehavior.AnimationType>
                                        <animation:FlipHorizontalAnimation 
                                        Easing="{x:Static Easing.Linear}"
                                        Rotation="90"
                                        Duration="300"/>
                                    </mct:AnimationBehavior.AnimationType>
                                </mct:AnimationBehavior>
                            </Button.Behaviors>
                        </Button>
                    </VerticalStackLayout>

                    <VerticalStackLayout GridLayout.Row="3" GridLayout.Column="1">
                        <Label Text="FlipVerticalAnimation"
                           Style="{StaticResource HeaderLabelStyle}" />

                        <Button Text="Click me!">
                            <Button.Behaviors>
                                <mct:AnimationBehavior EventName="Clicked">
                                    <mct:AnimationBehavior.AnimationType>
                                        <animation:FlipVerticalAnimation 
                                        Easing="{x:Static Easing.Linear}"
                                        Rotation="90"
                                        Duration="300"/>
                                    </mct:AnimationBehavior.AnimationType>
                                </mct:AnimationBehavior>
                            </Button.Behaviors>
                        </Button>
                    </VerticalStackLayout>

                    <VerticalStackLayout GridLayout.Row="4" 
                                         GridLayout.ColumnSpan="2">
                        <Entry Text="Shake me with the button below"
                               HorizontalOptions="CenterAndExpand">
                            <Entry.Behaviors>
                                <mct:AnimationBehavior 
                                    AnimateCommand="{Binding TriggerAnimationCommand}">
                                    <mct:AnimationBehavior.AnimationType>
                                        <animation:ShakeAnimation/>
                                    </mct:AnimationBehavior.AnimationType>
                                </mct:AnimationBehavior>
                            </Entry.Behaviors>
                        </Entry>

                        <Button 
                            HorizontalOptions="FillAndExpand"
                            Text="Shake the entry above"
                            GridLayout.Row="4" GridLayout.ColumnSpan="2"
                            Command="{Binding TriggerAnimationCommand}"/>

                    </VerticalStackLayout>

                </Grid>
            </ScrollView.Content>
        </ScrollView>
    </ContentPage.Content>
</pages:BasePage>